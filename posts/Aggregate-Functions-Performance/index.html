<!DOCTYPE html><html lang="en" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Understanding Aggregate Functions Performance" /><meta name="author" content="Harshit Yadav" /><meta property="og:locale" content="en" /><meta name="description" content="Understanding Aggregate Functions Performance" /><meta property="og:description" content="Understanding Aggregate Functions Performance" /><link rel="canonical" href="https://harshityadav95.github.io/posts/Aggregate-Functions-Performance/" /><meta property="og:url" content="https://harshityadav95.github.io/posts/Aggregate-Functions-Performance/" /><meta property="og:site_name" content="Harshit Yadav" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-01T02:30:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Understanding Aggregate Functions Performance" /><meta name="twitter:site" content="@harshityadav95" /><meta name="twitter:creator" content="@Harshit Yadav" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Harshit Yadav"},"dateModified":"2023-01-22T03:28:19+08:00","datePublished":"2022-06-01T02:30:00+08:00","description":"Understanding Aggregate Functions Performance","headline":"Understanding Aggregate Functions Performance","mainEntityOfPage":{"@type":"WebPage","@id":"https://harshityadav95.github.io/posts/Aggregate-Functions-Performance/"},"url":"https://harshityadav95.github.io/posts/Aggregate-Functions-Performance/"}</script><title>Understanding Aggregate Functions Performance | Harshit Yadav</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Harshit Yadav"><meta name="application-name" content="Harshit Yadav"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/14792490?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Harshit Yadav</a></div><div class="site-subtitle font-italic">End of Line</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/harshityadav95" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/harshityadav95" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['harshityadav','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://stackoverflow.com/users/5006393/harshityadav95" aria-label="stack-overflow" > <i class="fab fa-stack-overflow"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Understanding Aggregate Functions Performance</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Understanding Aggregate Functions Performance</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1654021800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 1, 2022 </em> </span> <span> Updated <em class="" data-ts="1674329299" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 22, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1347 words"> <em>7 min</em> read</span></div></div></div><div class="post-content"><h1 id="understanding-aggregate-functions-performance">Understanding Aggregate Functions Performance</h1><h2 id="what-are-aggregate-functions"><span class="mr-2">What are Aggregate functions?</span><a href="#what-are-aggregate-functions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Functions like AVG(A), COUNT(*), MAX (A), and MIN(A) used in DB are useful but if used in the wrong way they can show visible performance aggregation</p><p><a href="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Understanding%20Aggregate%20Functions%20Performance/Untitled.png" class="popup img-link "><img data-src="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Understanding%20Aggregate%20Functions%20Performance/Untitled.png" alt="Untitled" class="lazyload" data-proofer-ignore></a></p><p>If asked which of the following is more <strong>likely</strong> to use the index, the answer will be MAX(A), but why and not count (<em>)? , as by initial thinking the COUNT(</em>) seems more likely to be using the index to calculate the total count of the rows</p><h2 id="analysis-count"><span class="mr-2">Analysis: COUNT(*)</span><a href="#analysis-count" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">Select</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">T</span><span class="p">;</span>
</pre></table></code></div></div><ul><li>To count every single entry in the table have to scan the entire table<li>Scanning the table would have been easier if it was stored sequentially<li>Scanning the B-tree sequentially is not easy<li>It is easier to read B-tree page by page</ul><p>The first thought which comes to our head is that why shouldn’t the index keep a count of the values in the table, why are we not doing that? If we started doing that we will just kill concurrency</p><ul><li>Counting is one of the hardest problems in the database systems</ul><p>We assume that there is a single reader-writer in the system when we are using it but in actuality, there are multiple read writers in a database and currency and there are multiple read and write happening in the database completely unaware of each other, inserting new records at the end</p><p>Now if we introduce a counter in an index of a DB or a data structure through some sort of mutex or a lock, and whenever a new CRUD operation comes in have to update the count</p><ul><li>If we Start keeping the count we lose the throughput</ul><p>Databases are still fast even if we use count just this Aggregate function does not use the index for its work, although there is some exception if we are using the where clause and that uses a field that is indexed and has a small collective number, that will use the index in that case but if we have an unbounded count query it will not use that</p><p>This like these should be thought of and there is no one answer and need to be analyzed all the time</p><h2 id="analysis-avga"><span class="mr-2">Analysis: AVG(A)</span><a href="#analysis-avga" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">select</span> <span class="k">AVG</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">T</span><span class="p">;</span>
</pre></table></code></div></div><p>AVG function is something we need the whole count of same as the COUNT(*) but also iterate through each of those entries to calculate the thing, the moment we start iterating through each value we are going to the DB to fetch the value and less likely to use the Index</p><p>Exception. : Clustered vs Non Clustered Index</p><h2 id="analysis-maxa"><span class="mr-2">Analysis: MAX(A)</span><a href="#analysis-maxa" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">Select</span> <span class="k">MAX</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="k">from</span> <span class="n">T</span><span class="p">;</span>
</pre></table></code></div></div><p>MAX is the best we can use for the index if we look at an index in which are B Tree are structured and organized into pages and B+tree is designed to be sequential in order, so if we ask the index we already know the first page of the index and the last page of the index</p><p>This means the first page will have the lowest value or number of entries (smallest entry) and the last page will have the max entry, we can use Big O(1) to get to the first page or the last page at the same time cost, and since we can traverse to the last page of that key we can get the maximum of that page</p><ul><li>The database might need to check if the entry Is alive in the case of Postgres, by fetching that page to check if the value still exists or somebody didn’t delete it or someone updated it, there is where Heap and other concepts come into the picture</ul><p>In a nutshell, MAX(<em>) and MIN(</em>) are the best when it comes to utilizing the index, and if we don’t have the index the database will suffer iterating through all the entries to find the maximum and minimum value</p><ul><li>Any IO workload hates randomness be it a database or reading the value from drives, to SSD which is random read and writes<li>Best to do IO operation in sorted and ordered things<li>Therefore sorting is important, if things are sorted it makes the operation and so many things efficient and easier to work with</ul><h2 id="best-case-scenario"><span class="mr-2">Best Case Scenario</span><a href="#best-case-scenario" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>B Tree is best if need a page from the tree, but not for traversing sequentially though the entire DB<li>We can also store the data by column, ie to find maximum marks in maths pick the column Maths and store all the values in that, so that when we need the max or avg value in maths just a single read on the page will give that column with no garbage unlike the row-based storage model<li>If we look at column-based storage values, they are best for aggregation as a single read will give a collection of values and nothing else giving a lot of IO (ie instead of getting all the non-required details like the student details name, etc instead of required just the marks in subject maths)<li>This is approach is best utilized in OLAP</ul><p><a href="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Understanding%20Aggregate%20Functions%20Performance/Untitled%201.png" class="popup img-link "><img data-src="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Understanding%20Aggregate%20Functions%20Performance/Untitled%201.png" alt="Untitled" class="lazyload" data-proofer-ignore></a></p><h2 id="clustered-index"><span class="mr-2">Clustered Index</span><a href="#clustered-index" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>The clustered table is a table that has a primary key<li>The table is ordered around that primary key<li>If we have a value that is an integer so if we are inserting the value 1 it is the page 1 and all the values are inserted into order and the new incoming values are also ordered<li>Oracle calls it an Index Organized Table (the table that is organized around the index)<li>SQL Server calls it (Clustered Index )</ul><p>In this setting, the read is faster due to the sorted and ordering nature but the inserts are mostly costly as before the insert the location must be found out inserting into it, which is not the case in the case non clustered index in which all subsequent inserts are appended into the end</p><h2 id="clustering-sequential-write"><span class="mr-2">Clustering Sequential Write</span><a href="#clustering-sequential-write" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>If we are doing the sequential writes the last page will be the busiest page<li>As the hundreds of inserts are coming in the last page value or position to insert in will always be fighting off for the mutex to lock it before inserting the value<li>There might such cases where random writes will be faster than the sequential ones (advanced concept to think about)<li>No 2 CPUs can write on the same piece of data at the same time (MPI, CUDA multithreading domain comes into the picture, etc)</ul><h2 id="primary-key-as-random"><span class="mr-2">Primary Key as Random?</span><a href="#primary-key-as-random" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Using UUID as an example, when we insert we don’t have these locks anymore so our writes will be fast as no 2 writes will have to complete on the same page and each will have their own memory location<li>But for writing, we need to pull the page into the memory and write the value to write to the disk back as with all the random writes many pages will be pulled into the memory and soon memory will start filling up which is not the case when writing to the same page as only 1 page will be needed to be loaded into the memory for writing and the only significant cost will be CPU to get the mutex lock<li>Both the approaches have CPU vs Memory costs linked to each other<li>UUID approach will start fast but once the memory pool is filled it starts slowing down when this happens the checkpoint happens when the DB needs to write everything back to the disk consuming all the resources to flush the data back to the disk, this process is expensive and if this keeps happening again and again as we fill the memory over dirty pages and have to flush them<li>If we just changed 1 bit and wrote the entire page back, there is a better approach to that</ul><h2 id="summary"><span class="mr-2">Summary</span><a href="#summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>If we are using the aggregate function and the tables are clustered then it will utilize the index as the index is the table as it as a clustered index, with all the nodes in the B+ tree</p><h2 id="reference"><span class="mr-2">Reference</span><a href="#reference" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="https://youtu.be/L-8_CjV6sH4">https://youtu.be/L-8_CjV6sH4</a><li>Page 151 + in <a href="https://github.com/harshityadav95/Notex/blob/d024de495f1149b8e32ad26b040f0229017f3b63/docs/handwritten%20notes/DBMS-%20Part%201.pdf">Notes (Gate Notes)</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/database-engineering/'>Database Engineering</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/backend-development/" class="post-tag no-text-decoration" >Backend Development</a> <a href="/tags/database/" class="post-tag no-text-decoration" >Database</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Understanding%20Aggregate%20Functions%20Performance%20-%20Harshit%20Yadav&url=https%3A%2F%2Fharshityadav95.github.io%2Fposts%2FAggregate-Functions-Performance%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Understanding%20Aggregate%20Functions%20Performance%20-%20Harshit%20Yadav&u=https%3A%2F%2Fharshityadav95.github.io%2Fposts%2FAggregate-Functions-Performance%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fharshityadav95.github.io%2Fposts%2FAggregate-Functions-Performance%2F&text=Understanding%20Aggregate%20Functions%20Performance%20-%20Harshit%20Yadav" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/iPhone-in-India-2023/">iPhone in India 2023</a><li><a href="/posts/Java-Revision-Topic-Sets/">Java Revision Topic Sets</a><li><a href="/posts/Event-Women-Techmaker-2023/">Event Women Techmaker 2023</a><li><a href="/posts/Books-I-Read-in-2021/">Books I Read in 2021</a><li><a href="/posts/Load-Balancing-Layer-4-vs-Layer-7/">Load Balancing Layer 4 vs Layer 7</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/personal/">personal</a> <a class="post-tag" href="/tags/blogging/">Blogging</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/web-development/">Web Development</a> <a class="post-tag" href="/tags/bloger/">Bloger</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/webdevelopment/">webdevelopment</a> <a class="post-tag" href="/tags/backend-development/">Backend Development</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/database/">Database</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/What-is-Result-Set-in-Database/"><div class="card-body"> <em class="small" data-ts="1654194600" data-df="ll" > Jun 3, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>What is Result Set in Database ?</h3><div class="text-muted small"><p> 1 The SQL statements that read data from a database query, return the data in a result set. Overview Consider a situation that there are 12 million records of students in a database , if we imp...</p></div></div></a></div><div class="card"> <a href="/posts/Cost-of-Hash-Tables/"><div class="card-body"> <em class="small" data-ts="1654108200" data-df="ll" > Jun 2, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Cost of Hash Tables</h3><div class="text-muted small"><p> Hash Tables are effective in many places like Caching Database Joins Partitioning Distributed Databases Sets Load Balancing Limitations and Costs In software engineering, we ...</p></div></div></a></div><div class="card"> <a href="/posts/Deployment-Types/"><div class="card-body"> <em class="small" data-ts="1684261800" data-df="ll" > May 17, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Notes Deployment Strategies</h3><div class="text-muted small"><p> Source {% include embed/youtube.html id=’AWVTKBUnoIg’ %} TLDR; Big Bang Deployment Big Bang deployment is a software release approach where the entire system is deployed in one go, replaci...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Setting-Multiple-Git-Accounts-on-Single-Machine/" class="btn btn-outline-primary" prompt="Older"><p>Setup Multiple Git Accounts on Machine</p></a> <a href="/posts/Cost-of-Hash-Tables/" class="btn btn-outline-primary" prompt="Newer"><p>Cost of Hash Tables</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://harshityadav95.github.io/posts/Aggregate-Functions-Performance/'; this.page.identifier = '/posts/Aggregate-Functions-Performance/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://harshityadav95.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { window.addEventListener("message", reloadDisqus); } </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/personal/">personal</a> <a class="post-tag" href="/tags/blogging/">Blogging</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/web-development/">Web Development</a> <a class="post-tag" href="/tags/bloger/">Bloger</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/webdevelopment/">webdevelopment</a> <a class="post-tag" href="/tags/backend-development/">Backend Development</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/database/">Database</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/harshityadav95">Harshit Yadav</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-7RS3HK09CR"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-7RS3HK09CR'); }); </script>
